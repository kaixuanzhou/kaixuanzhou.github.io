---
layout: post
title:  web开发中需要注意的安全问题与防范措施(ssl篇)
date:   2017-9-21 10:32:15 +0800
categories: 技术分享
tag:
    - web
    - security
    - ssl
---

* content
{:toc}

1.XSS是什么?
===========

XSS 是一种非常常见的WEB攻击手段， 全拼为Cross Site Scripting，意为跨站脚本攻击，是恶意攻击者往Web页面里插入恶意Script代码，
当用户浏览该页之时，嵌入其中Web里面的Script代码会被执行，从而达到恶意攻击用户的目的。

2.危害
===========

泄露用户资料、盗取用户账号、控制篡改页面数据、非法转账、强制发送电子邮件、网站挂马、控制受害者机器向其它网站发起攻击。

2.实现方式
============

1. Reflected XSS（基于反射的XSS攻击）

2. Stored XSS（基于持久化的XSS攻击）


Reflected XSS
---------------------

Reflected XSS 攻击的前提条件是某Web应用程序会把用户输入的信息不加检查和限制地返回给用户。

比如在某个网站上 搜索关键字“xxx”，然后搜索结果页面会显示  您搜索的【xxx】不存在。这时如果网站没有对xxx进行安全检查，而是
直接显示在页面上，那么就会被黑客利用，照成xxs攻击。

我们看到搜索的url为

     http://domain/?search=xxx;

攻击者只需要将url改为

     http://domain/?search=<script>alert(1)</script>

将相当于在页面dom节点中插入了
这个script标签，浏览器也会毫不犹豫地执行这个恶意脚本。

当发现了这个漏洞后，攻击者就可以通过构造特定的url，然后将此url通过邮件、QQ等社交途径进行传播，一旦有用户点击url，将可能
造成损失。

Stored XSS
-------------------------
Stored XSS 攻击是对持久化的数据不加检查和限制的返回给用户。

比如 我给自己的账户昵称，取名为

     <script>alert(1)</script>

如果系统允许这种字符进行持久化，并且页面上不经过转义，直接将名字渲染出来，那么所有能看到我昵称的用户都将被执行这段XSS脚本。

H5推出本地存储后，很多前端富应用页面，可以将数据存储到localsStorage中，比如历史搜索记录等。这时前端开发者一定要注意 对数据的安全性进行判断。



防范措施：

对于用户输入的数据，前后端都一定要进行校验，对于富文本的内容，要进行特殊字符的转义，绝对不能直接渲染要页面上。

任何有机会在目标页面插入Dom元素标签的功能，都可能成为XSS攻击的入口
